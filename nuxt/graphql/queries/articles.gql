# 全記事を取得します。
query getArticles {
  articlesCollection (order: sys_firstPublishedAt_DESC) {
    items {
      ...articleFragment
    }
  }
  # articlesCollection (order: sys_firstPublishedAt_DESC){
  #   items {
  #     sys {
  #       id
  #       firstPublishedAt
  #       publishedAt
  #     }
  #     title
  #     content
  #     thumbnail {
  #       url
  #       description
  #     }
  #     slug
  #     category {
  #       sys {
  #         id
  #       }
  #       name
  #     }
  #     tagsCollection {
  #       items {
  #         sys {
  #           id
  #         }
  #         name
  #       }
  #     }
  #   }
  # }
}

# Idに紐づく記事を取得します。
query getArticleById ($id: String!) {
  articles (id: $id) {
    sys {
      id
      firstPublishedAt
      publishedAt
    }
    title
    content
    thumbnail {
      url
      description
    }
    slug
    category {
      sys {
        id
      }
      name
      slug
    }
    tagsCollection {
      items {
        sys {
          id
        }
        name
        slug
      }
    }
  }
}

# Slugに紐づく記事を取得します。
query getArticleBySlug ($slug: String!) {
  articlesCollection (where: { slug: $slug }, limit : 1) {
    items {
      sys {
        id
        firstPublishedAt
        publishedAt
      }
      title
      content
      thumbnail {
        url
        description
      }
      slug
      category {
        sys {
          id
        }
        name
        slug
      }
      tagsCollection {
        items {
          sys {
            id
          }
          name
          slug
        }
      }
    }
  }
}
